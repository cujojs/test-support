#!/usr/bin/env node

var sauce = require('../sauce/driver');
var argv = require('optimist')
	.boolean('m')
	.alias('m', 'manual')
	.describe('m', 'Opens a tunnel for manual test drives')
	.options('u', {
		alias: 'user',
		default: process.env.SELENIUM_USERNAME,
		demand: true,
		describe: 'Sauce Labs username'
	})
	.options('p', {
		alias : 'pass',
		default : process.env.SELENIUM_PASSWORD,
		demand: true,
		describe: 'Sauce Labs access key'
	})
	.options('remote-host', {
		default: process.env.SELENIUM_HOST || 'ondemand.saucelabs.com',
		describe: 'Hostname of Sauce Labs service'
	})
	.options('remote-port', {
		default: process.env.SELENIUM_PORT || 80,
		describe: 'Port of Sauce Labs service'
	})
	.options('port', {
		default: 8080,
		describe: 'Local port to run tunneled service, must be a tunnable port'
	})
	.argv;

sauce.drive(argv);
